<!DOCTYPE html>
<html lang="en">
  <head>
    <title>LaunchGate  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="LaunchGate  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">LaunchGate 1.0.2 Docs</a> (66% documented)</p>
        <p class="header-right"><a href="https://github.com/dtrenz/LaunchGate"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">LaunchGate Reference</a>
        <img id="carat" src="img/carat.png" />
        LaunchGate  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/LaunchGate.html">LaunchGate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/LaunchGateParser.html">LaunchGateParser</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs.html#/s:10LaunchGate18AlertConfigurationV">AlertConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs.html#/s:10LaunchGate0aB13ConfigurationV">LaunchGateConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs.html#/s:10LaunchGate19UpdateConfigurationV">UpdateConfiguration</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='launchgate' class='heading'>LaunchGate</h1>

<p><a href="https://travis-ci.org/dtrenz/LaunchGate"><img src="http://img.shields.io/travis/dtrenz/LaunchGate.svg?style=flat" alt="CI Status"></a>
<a href="http://cocoapods.org/pods/LaunchGate"><img src="https://img.shields.io/cocoapods/v/LaunchGate.svg?style=flat" alt="Version"></a>
<a href="http://cocoapods.org/pods/LaunchGate"><img src="https://img.shields.io/cocoapods/l/LaunchGate.svg?style=flat" alt="License"></a>
<a href="http://cocoapods.org/pods/LaunchGate"><img src="https://img.shields.io/cocoapods/p/LaunchGate.svg?style=flat" alt="Platform"></a>
<a href="https://codecov.io/github/dtrenz/LaunchGate?branch=develop"><img src="https://codecov.io/github/dtrenz/LaunchGate/coverage.svg?branch=develop" alt="codecov.io"></a>
<a href="http://www.detroitlabs.com"><img src="https://img.shields.io/badge/sponsor-Detroit%20Labs-000000.svg?style=flat" alt="Sponsored by Detroit Labs"></a></p>

<p>LaunchGate makes it easy to let users know when an update
to your app is available.</p>

<p>You can also block access to the app for older versions,
which is useful in the event of a severe bug or security
issue that requires users to update the app.</p>

<p>Additionally, you can use LaunchGate to display a remotely
configured message to users at launch which can also be
used to temporarily block access to the app (i.e. during
back-end maintenance).</p>
<h4 id='need-an-android-version' class='heading'>Need an Android version?</h4>

<p>You&rsquo;re in luck! LaunchGate was built in parallel with its Android counterpart,
<a href="http://btkelly.github.io/gandalf/">Gandalf</a>.</p>
<h2 id='installation' class='heading'>Installation</h2>

<p>LaunchGate is available through <a href="http://cocoapods.org">CocoaPods</a>. To install
it, simply add the following line to your Podfile:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s2">"LaunchGate"</span>
</code></pre>
<h2 id='usage' class='heading'>Usage</h2>

<p>LaunchGate downloads &amp; parses a remotely hosted JSON configuration file at launch,
then takes appropriate action.</p>

<p>By default, LaunchGate expects a configuration file that looks something like this:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ios"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"requiredUpdate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"minimumVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An update is required to continue using this app."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>If you want to use a different configuration structure than the default, you can!
See the section below, for instructions on <a href="#custom-configuration-parser">how to provide a custom parser</a>.</p>
<h4 id='enabling-launchgate' class='heading'>Enabling LaunchGate</h4>

<ol>
<li>Import it into your <code>AppDelegate</code>.</li>
<li>Instantiate it, passing in the location of your configuration file and the
App Store URI of your app.</li>
<li>Lastly, call <code>launchGate?.check()</code> in <code>applicationDidBecomeActive</code> or <code>sceneDidBecomeActive</code> if you are using scene based windowing.</li>
</ol>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">LaunchGate</span>

<span class="kd">@UIApplicationMain</span>
<span class="kd">class</span> <span class="kt">AppDelegate</span><span class="p">:</span> <span class="kt">UIResponder</span><span class="p">,</span> <span class="kt">UIApplicationDelegate</span> <span class="p">{</span>

  <span class="k">var</span> <span class="nv">window</span><span class="p">:</span> <span class="kt">UIWindow</span><span class="p">?</span>

  <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">launchGate</span> <span class="o">=</span> <span class="kt">LaunchGate</span><span class="p">(</span>
    <span class="nv">configURI</span><span class="p">:</span> <span class="s">"https://www.example.com/config.json"</span><span class="p">,</span>
    <span class="nv">appStoreURI</span><span class="p">:</span> <span class="s">"itms-apps://itunes.apple.com/us/app/yourapp/id123456789"</span>
  <span class="p">)</span>

  <span class="kd">func</span> <span class="nf">applicationDidBecomeActive</span><span class="p">(</span><span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">launchGate</span><span class="p">?</span><span class="o">.</span><span class="nf">check</span><span class="p">()</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre>

<p>or if you have a Application Scene Manifest setup:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">LaunchGate</span>

<span class="kd">class</span> <span class="kt">SceneDelegate</span><span class="p">:</span> <span class="kt">UIResponder</span><span class="p">,</span> <span class="kt">UIWindowSceneDelegate</span> <span class="p">{</span>

  <span class="k">var</span> <span class="nv">window</span><span class="p">:</span> <span class="kt">UIWindow</span><span class="p">?</span>

  <span class="kd">func</span> <span class="nf">sceneDidBecomeActive</span><span class="p">(</span><span class="n">_</span> <span class="nv">scene</span><span class="p">:</span> <span class="kt">UIScene</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">launchGate</span><span class="p">?</span><span class="o">.</span><span class="nf">check</span><span class="p">()</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre>
<h2 id='the-configuration-file' class='heading'>The Configuration File</h2>

<p>The JSON configuration file is loaded by LaunchGate when <code>check()</code> is called.
Using this file you can trigger a few different behaviors in your app.</p>

<blockquote>
<p><em><strong>&ldquo;What&rsquo;s with the top-level <code>ios</code> object in the JSON? Why is that necessary?&rdquo;</strong></em></p>

<p>The top level <code>&quot;ios&quot;</code> object exists because LaunchGate was created in parallel
with <a href="http://btkelly.github.io/gandalf/">Gandalf</a>, its Android counterpart project.
As <a href="http://www.detroitlabs.com">cross-platform mobile developers</a>, we understand
how annoying it can be to get two completely separate iOS &amp; Android libraries
satisfy the same feature requirements. By developing an LaunchGate (iOS) &amp;
<a href="http://btkelly.github.io/gandalf/">Gandalf</a> (Android) together, we are able to
provide teams that build &amp; maintained cross-platform apps a solution that should
work similarly on both iOS &amp; Android:</p>

<p>Example cross-platform configuration:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"android"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"requiredUpdate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"minimumVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An update is required to continue using this app."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ios"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"requiredUpdate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"minimumVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An update is required to continue using this app."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</blockquote>
<h3 id='required-update' class='heading'>Required Update</h3>

<p>By including a <code>requiredUpdate</code> object you can specify a minimum app
version and a message that will be displayed to users that have a version that
is too old. Users with an older version will be locked out of app until they
update.</p>

<blockquote>
<p><strong>Scenario:</strong> A previous version of your app had a critical bug or security
vulnerability that you have patched in the current version of the app, but you
still need to prevent users from continuing to use the older compromised version.</p>
</blockquote>

<p>In this example, users with a version of the app less than &ldquo;1.1&rdquo; will see an
alert dialog when the app is opened, with an &ldquo;Update&rdquo; button that will take them
to the App Store so that they can download the latest version.</p>

<p><img src="https://raw.githubusercontent.com/dtrenz/LaunchGate/develop/Screenshots/required-update.png" alt="Required Update Screenshot"></p>
<h3 id='optional-update' class='heading'>Optional Update</h3>

<p>By including an <code>optionalUpdate</code> object you can specify the current version of
the app in the App Store and a message to display to the user, possibly to
encourage them to update the app.</p>

<p>Optional updates can be dismissed by the user and do not block the user from
using the app. Also, an optional update dialog is only showed to the user once
per version. That way users aren&rsquo;t nagged relentlessly every time they open the app.</p>

<blockquote>
<p><strong>Scenario:</strong> You&rsquo;ve released a significant update to your app and want to
encourage users that do not have automatic updates enabled to upgrade.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ios"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"optionalUpdate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"optionalVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A new version of the app is available."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><img src="https://raw.githubusercontent.com/dtrenz/LaunchGate/develop/Screenshots/optional-update.png" alt="Optional Update Screenshot"></p>
<h3 id='alert-messages' class='heading'>Alert Messages</h3>

<p>Lastly, besides providing features related to specific app versions and updates,
you can also use LaunchGate to display an informative message to your users when
they open the app.</p>
<h4 id='blocking-alert' class='heading'>Blocking Alert</h4>

<p>A &ldquo;blocking&rdquo; alert (<code>&quot;blocking&quot;: true</code>) is an alert that is displayed to the
user when they open the app but does not give the user any option to proceed
into the app.</p>

<p><em><strong>IMPORTANT</strong> &rarr; As long as you have <code>blocking</code> set to <code>true</code> users will
be prevented from using your app, so make sure to remove or disable the blocking
alert as soon as possible.</em></p>

<blockquote>
<p><strong>Scenario:</strong> Your app relies on a back-end web service that is temporarily down
for maintenance, and you don&rsquo;t want users of the app to be affected.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ios"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"alert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We are currently performing server maintenance. Please try again later."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"blocking"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><img src="https://raw.githubusercontent.com/dtrenz/LaunchGate/develop/Screenshots/alert-blocking.png" alt="Blocking Alert Screenshot"></p>
<h4 id='non-blocking-alert' class='heading'>Non-Blocking Alert</h4>

<p>Like the optional update dialog, non-blocking alert messages are only displayed once per message.</p>

<blockquote>
<p><strong>Scenario:</strong> Your app relies on a back-end web service that is experiencing
intermittent connectivity issues and you want to warn users that they the app
experience may be degraded.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ios"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"alert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We are currently working to resolve intermittent web service issues. We apologize if your app experience is affected."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"blocking"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><img src="https://raw.githubusercontent.com/dtrenz/LaunchGate/develop/Screenshots/alert-nonblocking.png" alt="Non-Blocking Alert Screenshot"></p>
<h2 id='custom-configuration-parser' class='heading'>Custom Configuration Parser</h2>

<p>If you need to use something other than the default configuration JSON object,
you can write your own parser that conforms to the <code><a href="Protocols/LaunchGateParser.html">LaunchGateParser</a></code> protocol,
and set it on the LaunchGate instance before calling <code>check()</code>.</p>

<p>See the <a href="https://github.com/dtrenz/LaunchGate/blob/master/Example/Example/AppDelegate.swift#L24-L27">example project</a>.</p>
<h2 id='author' class='heading'>Author</h2>

<p>Dan Trenz (<a href="http://www.twitter.com/dtrenz">@dtrenz</a>) c/o <a href="http://www.detroitlabs.com">Detroit Labs</a></p>
<h2 id='license' class='heading'>License</h2>

<p>LaunchGate is available under the Apache License, Version 2.0. See the LICENSE file for more info.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2020 <a class="link" href="https://github.com/dtrenz/LaunchGate" target="_blank" rel="external">Dan Trenz</a>. All rights reserved. (Last updated: 2020-04-08)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
